<!DOCTYPE HTML>
<html lang="tr">

<head>
	<title>Fristileaks 1.3</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="../../assets/css/main.css" />
	<noscript><link rel="stylesheet" href="../../assets/css/noscript.css" /></noscript>
</head>

<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<!-- Header -->
		<header id="header">
			<h1><a href="../../index.html">Anasayfa</a></h1>
		</header>

		<!-- Main -->
		<article id="main">

			<section class="wrapper style5">

				<div class="inner">
					<h2>Hoşgeldiniz</h2>
					<p>Bugün sizlere  Fristileaks 1.3'in nasıl çözüldüğünü göstermek istiyorum.Bu CTF'deki amacımız hedef'e root olup flag'i okumak olacaktır.CTF hakkında daha fazla bilgiye ulaşmak için <a target="_blank" href="https://www.vulnhub.com/entry/fristileaks-13,133/">tıklayınız</a>.</p>
					<section>
						<h4>Geçtiğimiz adımlar</h4>
						<div class="row">
							<div class="col-6 col-12-medium">
								<ul>
									<li>Netdiscover ile hedef'in ip adresini öğrenme</li>
									<li>Nmap ile açık port'ların tespiti</li>
									<li>Dirb ne Nitko ile 80 port'ları üzerinden bilgi toplama</li>
									<li>Base64 decode işlemleri</li>
									<li>Hedeften shell alma root olma</li>
								</ul>
							</div>
						</div>
					</section>
				</div>

				<!-- image -->
				<div class="inner">
					<p>İlk olarak hedefin kullandığı ip adresini bularak CTF'e başladım.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/1.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Ip adresini bulduktan sonra hedef hakkında bilgi edinmek için Nmap'ı kullandım.Nmap çıktısına sadece 80 portunun açık olduğunu öğrendim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/2.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Dirb ile 80 portu üzerinden erişebileceğim URL öğrenmek istedim.Daha sonra robots.txt adlı bir dosya bulup tarayıcıda görüntüledim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/3.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Robots.txt'deki yollarda birşey elde edemeyince Nikto kullanarak hedef üstünden bilgi almaya devam ettim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/4.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Nikto ve Dirb'ten bir sonuç elde edemediğim için birkaç birşey denediğimde /fristi adlı bir URL olduğunu keşfettim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/5.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Bu URL'in kaynak kodunu görüntülediğimde http yorum satırı taglerinde bir base64 ile encode edilmiş bir hash buldum.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/6.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Elde ettiğim hash'i birkaç kurcalamadan sonra decode edip uzantısı ".png" olan bir dosyayı çıktı olarak verdim.Daha sonra fotoğraftadaki gibi çıktı elde ettim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/7.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>/fristi URL'inin kaynak kodlarına bakmaya devam ettim.Daha sonra bulduklarımı login olmak için kullandığımda fotoğraftadaki doğru login bilgisini keşfettim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/8.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Login olduktan sonra dosya upload etme sayfasına yönlendirildim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/9.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Hedefin 80 portunda PHP koştuğunu biliyordum.Vakit kaybetmeden PHP Reverse-Shell scripti bulup gerekli bilgileri yazıp script'i hazır hale getirdim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/10.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Bu script'i hedefe upload ettiğim aşamayı göstermek istedim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/11.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Burada hedef bana sadece ".png , .jpg , .gif" formatlarında upload etmeme izin verdiğini öğrendim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/12.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Burada shell.php olan script'imin adını shell.php.jpg yapıp tekrar denediğimde upload işleminin başırılı olduğunu gördüm.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/13.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Her ne kadar bu sayfa bulanamadı hatası versede arka planda çalıştırdığım Netcat'e script'im istek atıp shell alabildim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/14.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Burada sizlere shell alabildiğimi göstermek istedim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/15.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Hedef içersindeyim artık.Burada yetki yükseltmek için araştırmaya koyulduğumda şöyle bir dosyaya rasladım.Burada basitçe /tmp içersinde runthis adlı bir dosya oluşturduğunda bunu admin kullanıcısı belirli bir zaman'da bir kendi yetkisiyle çalıştırdığından bashetmiş.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/16.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Burada /tmp/runthis adlı bir dosya oluşturup /home/admin kullanıcısının yetkilerini herkese açık yaptım.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/17.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Daha sonra /home/admin path'ine geldiğimde gerçekten'de bu işlemiş başarıyla gerçekleştiğini gözlemledim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/18.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>/home/admin yolu içersinde resimde göstediğim bir script ile karşılatım.Script genel olarak parametreyle verinlen bir text'i ters çevirip encode etmektedir./home/admin içersinde birkaç txt dosyasını incelediğimde bu script ile encode dedildiği gördüm.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/19.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Daha sonra bende basit bir mantıkla decode eden bir script yazdım.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/20.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Bu fotoğrada /home/admin içersinde encode edilmiş bir texti sizlere gösterdim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/21.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Yazmış olduğum script'le text'i decode ettikten sonra okunaklı bir yazı elde ettim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/22.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Elde ettiğim yazıyı "su fristigod" password'u olarak denediğimde sonuç aldım.Daha sonra bu kullanıcının root yetkileriyle neleri çalıştırabileceğini öğrenmek istedim.Bu komut çıktısında fristi yetkisiyle verilen yoldaki /doCom dosyayısı çalıştırabileceğimi öğrendim.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/23.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Fotoğraftada görebileceğiniz gibi /doCom'ı kullanarak root olmayı denedim ve başardım.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/24.png" alt="" /></span></div>
						</div>
					</div>
				</div>

				<!-- image -->
				<div class="inner">
					<p>Burada size /root içersindeki flag'i göstererek CTF'i başarıyla tamamaladım.</p>
					<div class="box alt">
						<div class="row gtr-50 gtr-uniform">
							<div class="col-12"><span class="image fit"><img src="../../images/Network/20-Fristileaks/25.png" alt="" /></span></div>
						</div>
					</div>
				</div>



			<div class="inner">
 					<blockquote>Herhangi bir tavsiyede , eksikte veya problem'de bana aşağıdan paylaştığım sosyal medya hesapları üzerinden ulaşabilirsiniz.</blockquote>
 				</div>


			</section>

		</article>

		<!-- Footer -->
		<footer id="footer">
			<ul class="icons">
				<li><a href="https://www.youtube.com/channel/UCu5NyREC0zwn76fnj7UlevA" class="icon fa-youtube"><span class="label">Facebook</span></a></li>
				<li><a href="https://www.linkedin.com/in/erdemyildiz/" class="icon fa-linkedin"><span class="label">Dribbble</span></a></li>
				<li><a href="https://github.com/ErdemStar" class="icon fa-github"><span class="label">Email</span></a></li>
			</ul>
		</footer>

	</div>

	<!-- Scripts -->
	<script src="../assets/js/jquery.min.js"></script>
	<script src="../assets/js/jquery.scrollex.min.js"></script>
	<script src="../assets/js/jquery.scrolly.min.js"></script>
	<script src="../assets/js/browser.min.js"></script>
	<script src="../assets/js/breakpoints.min.js"></script>
	<script src="../assets/js/util.js"></script>
	<script src="../assets/js/main.js"></script>

</body>

</html>
